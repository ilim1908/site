// var gnb = {
//     init: function() {
//         $('[data-ui="menu"] > li').mouseenter(function() {
// 			$('.childmenu-wrap').hide();
// 			$(this).find('> a').next().show();
//         });
// 		$('[data-ui="menu"] > li > a').focus(function() {
// 			$(this).next().show();
//         });
//         $('.renew-header').mouseleave(function() {
// 			$('.childmenu-wrap').hide();
//         });
//     }
// };
// gnb.init();

var gnb = {
    init: function() {
		var self = this;	//gnb obj
		$('[data-ui="menu"] > li > a').on('mouseenter focus', function(e) {
			if(!$(this).parent().hasClass('gt-active') ) {
				self.openMenu(e.target);
			}
        });
		$('.renew-gnb, .my-customer').on('mouseleave', function() {
			self.closeMenu();
        });
    },
	openMenu: function(target) {
		$('.childmenu-wrap:visible').hide();
		$('[data-ui="menu"] > li.gt-active').removeClass('gt-active');
		$(target).next().show();
		//ie9에서 linear-gradient 미지원 이슈
		if(gtris.util.browser.name == 'ie' && gtris.util.browser.version == '9') {
			$(target).next().css({backgroundColor: '#535561'});
		}
		var gnbheight = $(target).next().outerHeight() + 90;
		$('.plate').stop().animate(
			{height : gnbheight},
			200
		);
		$(target).parent().addClass('gt-active');
	},
	closeMenu: function() {
        $('.plate').stop().animate(
			{height : '89px'},
			200,
			function() {
	            $('.childmenu-wrap:visible').hide();
	            $('[data-ui="menu"] > li.gt-active').removeClass('gt-active');
	        }
		);
	}
};
gnb.init();
