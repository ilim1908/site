var brand_list = {
    'Recommand'   : '추천',
    'Rental'	  : '1분 설치',
    'HP'          : 'HP',
    'Intel'       : 'Intel',
    'IBM'         : 'IBM',
    'Dell'        : 'Dell'
};

var gidcTable = function(){
    var serviceObjList = [];
    var gidcTable = $("#gidc_table");
    var showNum = 5;
    var submitParam = {
        service_type : "R",
        seqno : null,
        idc_kind : 7,
        payterm : 1
    }

    var getPriceData = function(cb, setShowNum){
        $.ajax({
            type: "GET",
            url : "/ajax/price",
            dataType: "json"
        }).done(function(json_data) {
            showNum = setShowNum;
            serviceObjList = json_data['service_list'];
            sorting('popular','desc');
        }).fail(function() {
            alert('가격정보를 가져오는 중 에러가 발생했습니다.');
        });
    };

    var makeTable = function(){
	if($('#gidc_table_tmpl').length){
        $('#gidc_table_tmpl').tmpl({serviceObjList : serviceObjList, showNum : showNum}).appendTo(gidcTable);
}
    };

    var sorting = function (type, orderType, el){
        $('.product-sort-item').removeClass("active");
        if(el){
            $(el).addClass("active");
        } else{
            $('#popular_sort').addClass("active");
        }
        serviceObjList.sort(function(a, b){
            //IE이슈로 인해 -1, 1을 강제적으로 return 해야함
            if(orderType=='desc'){
                if(a[type] < b[type])
                    return -1;
                else if(a[type] == b[type]){    //가격이 같을경우 hp->ibm->intel 순으로 정렬(문자열 내림차순)
                    if(a['same_price_sort'] > b['same_price_sort']){
                        return 1;
                    } else{
                        return -1;
                    }
                }
                else
                    return 1;
            } else{
                if(a[type] > b[type])
                    return -1;
                else if(a[type] == b[type]){    //가격이 같을경우 hp->ibm->intel 순으로 정렬(문자열 내림차순)
                    if(a['same_price_sort'] > b['same_price_sort']){
                        return 1;
                    } else{
                        return -1;
                    }
                }
                else
                    return 1;
            }
        });

        refreshTable(showNum);
    };

    var refreshTable = function(setShowNum){
        gidcTable.empty();
        showNum = setShowNum;
        makeTable();
    };

    getPriceData(makeTable, 5);

    return {
        addCommas : function (nStr) {
            nStr += '';
            x = nStr.split('.');
            x1 = x[0];
            x2 = x.length > 1 ? '.' + x[1] : '';
            var rgx = /(\d+)(\d{3})/;
            while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + ',' + '$2');
            }
            return x1 + x2;
        },
        moreTable : function(){
            $("#more").hide();
            $("#fold").show();
            this.refreshTable(14);
        },
        foldTable : function(){
            $("#more").show();
            $("#fold").hide();
            this.refreshTable(5);
        },
        refreshTable : function(setShowNum){
            gidcTable.empty();
            showNum = setShowNum;
            makeTable();
        },
        sorting : function(type, orderType, el){
            sorting(type, orderType, el);
        },
        submit : function(seqno){
            submitParam.seqno = seqno;
            location.href = '/gorder/server_step1?'+$.param(submitParam);    //쿼리스트링 GET방식
        }
    };
}();

var gidc =
    {
        //
        group_open_select : function(group, id){
            $(group).each(function(index) {
                var display = $(this).css("display");
                if(display == "block") $(this).find("#"+ id).show();
            });
        },
        group_open_tab : function(name, _this){
            var detail = $(_this).parents(".spec_display").find("table[name=" + name + "]");
            if(detail.css("display") == "block") detail.css("display", "none");
            else detail.css("display", "block");
        },
        open_select : function(id)
        {
            if ($('#'+id).css('display') == 'none') $('#'+id).show();
            else $('#'+id).hide();
        },
        dom_click : function(id, index){
            $("#" + id + " li").eq(index).click();
        },
        open_tab : function(_this)
        {
            var selector = $(_this).find("div[name=sel_month_price]");
            if ($(selector).css('display') == 'none') $(selector).show();
            else $(selector).hide();
        },
        //
        change_detail_display : function(_this)
        {
            var img_open = '/assets/images/idc/btn_detail01.gif';
            var img_close = '/assets/images/idc/btn_close.gif';
            var detail_layer  = $(_this).parents("div.detailListBox").find("div.detail_zone");
            var display_status = $(detail_layer).css("display");

            if(display_status == 'block'){
                $(_this).find("img").attr("src",img_open);
                $(detail_layer).hide();
            }else{
                $(_this).find("img").attr("src",img_close);
                $(detail_layer).show();
            }
        },
        change_image_display : function(div_id,img_id,img1,img2)
        {
            var display_status = $("#"+div_id).css("display");

            if(display_status == 'block'){
                $("#"+img_id).attr("src",img1);
                $('#'+div_id).hide();
            }else{
                $("#"+img_id).attr("src",img2);
                $('#'+div_id).show();
            }
        },
        change_backup_price : function(index, _this, title, context)
        {
            var price = $(_this).attr("data-price");
            var list = $(_this).parents("div.productBox").find("div[name=sel_month_price]");
            $(_this).parents("div.productDetail").find("p[name=selectName]").html(title);
            $("#backup_price").html(context);
            $(_this).find("div[name=sel_month_price]").hide();
            $(list).eq(1).find("ul").hide();
            $(list).eq(1).find("ul").eq(index).show();
            $(list).eq(1).find("ul").eq(index).find("li:eq(0)").click();
        },
        //
        more_toggle : function(id,max)
        {
            var display_status = $("#div_more_"+(max-1)).css("display");

            //image change
            if(display_status == 'block'){
                $("#more_view").attr("src","/assets/images/idc/btn_more02.gif");
            }else{
                $("#more_view").attr("src","/assets/images/idc/btn_less.gif");
            }

            //toggle
            for(var i=0; i < max ; i++)
            {
                $("#"+id+"_"+i).slideToggle();
            }
        },
        detail_toggle : function(_this)
        {
            var more = $(_this).parents(".product_display").find(".titleBoxview");
            if(more.length < 1) more = $(_this).parents(".moreBox").find(".stepMore");
            if(more.length < 1) more = $(_this).parents(".tworowsmoreBox").find(".stepMore");
            var display_status = $(more).css("display");
            //image change
            if(display_status == 'block'){
                $(_this).attr("src","/assets/images/idc/btn_more02.gif");
            }else{
                $(_this).attr("src","/assets/images/idc/btn_less.gif");
            }
            $(more).slideToggle();
        },
        //onblur기능 firefox,chome 처리, id는 변수로 처리가능
        select_controller : function(t,s)
        {
            for(var i=0; i < t; i++)
            {
                if(s == -1) $("#sel_month_price_"+i).hide();
                if(i != s) 	$("#sel_month_price_"+i).hide();
            }
        },
        //
        select_change : function(content, val, _this)
        {
            var tree = $(_this).parents(".selectPrice");
            var tree_context = $(tree).find("p[name=change_output_select]");
            var tree_payterm = $(tree).find("input[name=payterm]");
            $(tree_context).html(content);
            $(tree_payterm).val(val);
        },

        change_goods_price : function(id,payterm,price,service_type,dc,month_price)
        {
            var dc_str	= "";
            if(dc)  dc_str +="<span class=\"txtRed\">할인 중!</span>";


            if(service_type == 'S'){
                var display = price+"원<br><span class=\"month\">+"+payterm+"개월</span><span>"+month_price+"원 "+dc_str;

            }else{
                var display = payterm+"개월 &nbsp;&nbsp;"+price+"원 "+dc_str;
            }
            $("#sel_"+id+"_payterm").val(payterm);
            $("#sel_month_price_"+id).show;
            $("#change_price_"+id+"_zone").html(display);
        },
        colo_change_goods_price : function(id,payterm,price,dc)
        {
            if(dc) $("#id_sale_"+id).show();
            else $("#id_sale_"+id).hide();

            $("#sel_month_price_"+id).show();
            $("#change_payterm_"+id).html(payterm);
            $("#change_price_"+id).html(idc_common.number_format(price));
        },
        change_select_box : function(content,_this)
        {
            var tree = $(_this).parents("div[name=change_output_select]");
            var tree_context = $(tree).find("p[name=selectName]");
            $(tree_context).html(content);
        },
        colo_change_select_box : function(content,payterm,_this)
        {
            var tree = $(_this).parents("div[name=change_output_select]");
            var tree_context = $(tree).find("p[name=selectName]");
            var tree_payterm = $(tree).find("input[name=payterm]");
            $(tree_context).html(content);
            $(tree_payterm).val(payterm);
        },
        backup_change_goods_price : function(index, _this)
        {
            var content = $(_this).attr("data-content");
            var tree = $(_this).parents("div[name=change_output_select]");
            var top = $(_this).parents(".rows");

            $(tree).find("p[name=selectName]").html(content);
        },

        //
        goods_action : function(type,data)
        {
            $("#type_R").attr("disabled",false);

            var form = document.gserver;
            switch (type)
            {
                case "loc":
                    form.loc.value = data;
                    if(data == 'help'){ //도움말
                        $("#select_table").hide();
                        $("#service_display").hide();
                        $("#spec_display").hide();
                        $("#help_display").show();
                    }else if(data == 'hardware'){ //사양
                        $("#select_table").show();
                        $("#service_display").hide();
                        $("#help_display").hide();
                        $("#spec_display").show();
                    }else{ //가격
                        $("#select_table").show();
                        $("#spec_display").hide();
                        $("#help_display").hide();
                        $("#service_display").show();
                    }
                    break;
                case "corp":
                    form.corp.value = data;
                    var html = "";
                    $.each(brand_list, function(index, entry)
                    {
                        var first="";
                        if(index == 'Recommand') first=" class=\"first\"";
                        if(data == index) entry = "<strong>"+entry+"</strong>";

                        html +=" <li id='corp_"+index+"' "+first+" ><a href=\"javascript:gidc.goods_action('corp','"+index+"');\">"+entry+"</a></li>";
                    });
                    $("#brand_list").html(html);

                    //구매일 경우에만 Dell노출
                    var service_type = $("input[name='service_type']:checked").val();
                    if(service_type == "S"){
                        $("#corp_Dell").show();
                        $("#corp_Rental").hide();
                    }else{
                        $("#corp_Dell").hide();
                        $("#corp_Rental").show();
                    }


                    if(data =='Rental'){
                        $("#type_S").prop("disabled",true);
                    }else{
                        $("#type_S").prop("disabled",false);
                    }
                    break;
                case "service_type":
                    form.stype.value = data;
                    if(data == 'S'){
                        $("#corp_Dell").show();
                        $("#corp_Rental").hide();
                    }
                    else{
                        $("#corp_Dell").hide();
                        $("#corp_Rental").show();
                    }
                    break;
            }
            //Dell 장비는 임대선택 불가처리
            if(data == "Dell") $("#type_R").attr("disabled",true);
            var loc = $("#gserver input[name=loc]").val();
            var stype = $("#gserver input[name=stype]").val();
            var corp = $("#gserver input[name=corp]").val();
            if(loc == "hardware"){
                $(".spec_display").hide();
                $("#spec_" + corp + "_" + stype).show();
            } else {
                if(corp == "index") corp = "Recommand";
                $(".product_display").hide();
                $("#" + corp + "_" + stype).show();
            }

        },
        //
        colo_goods_action : function(tab)
        {
            var colo_type = $("input[name='colo_type']:checked").val();
            var form = document.colo_form;
            form.loc.value = tab;

            switch (tab)
            {
                //상품 및 가격
                case "price":
                    $("#select_table").show();
                    $("#service_feature").show();
                    $("#select_table").find("input[name='colo_type']").eq(0).click();
                    break;
                // 사양
                case "hardware":
                    $("#select_table").show();
                    $("#service_feature").show();
                    $("#select_table").find("input[name='colo_type']").eq(0).click();
                    break;
                // 도움말
                case "help":
                    $("#select_table").hide();
                    $("#service_feature").hide();
                    gidc.change_colo_type("help");
                    break;
            }
        },
        //
        goods_detail_info : function(corp,num)
        {
            var goods = $("input[name=goods]:checked").val();
            $(".modelTab").hide();
            $(".serverlist").hide();
            $("#" + corp + "_tab").show();
            $("#server_" + num).show();
            return true;
        },
        //
        auto_settle_open : function(src){
            this.openPopup(src, 'service_modify', '858', '603', 'no');
        },
        //
        openPopup : function (src, name, width, height, scroll){
            window.open(src, name,'width='+width+',height='+height+',top=263,left=530,toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=no');
        },
        //

        goRegist: function(f)
        {


            f.action = "/gorder/server_step1";
            f.method = "post";
            f.submit();
            /*
            var url  = "/gorder/server_step1";
            var form = document.regist;
            var payterm = $("#sel_"+order+"_payterm").val();
            form.service_type.value = service_type;
            form.seqno.value = seqno;
            form.idc_kind.value = idc;
            form.payterm.value = payterm;
            form.action = url;
            form.submit();
            */
        },

        goRegist_colo: function(f)
        {
            var addon_check = $(f).find("input[name=addon_device]:checked");
            var parking = $(f).find("input[name=parking_type]");
            if(addon_check.length > 0 && (parking.length == 0)){
                var url = "/quotation/colocation";
                location.href= url;
            } else {
                f.action = "/gorder/colo_step1";
                f.method = "post";
                f.submit();
            }
        },

        go_regist :  function(service,seqno,order)
        {
            switch (service)
            {
                //server
                case "S":
                    var service_type = $("input[name='service_type']:checked").val();
                    var idc = $("[name='idc["+ seqno +"]']:checked").val();
                    var url  = "/gorder/server_step1";
                    var form = document.regist;
                    var payterm = $("#sel_"+order+"_payterm").val();
                    form.service_type.value = service_type;
                    form.seqno.value = seqno;
                    form.idc_kind.value = idc;
                    form.payterm.value = payterm;
                    form.action = url;
                    form.submit();
                    break;
                //colo
                case "C":
                    var cnt_count=0;
                    var add_service_array = $("input:checkbox[name='addon_device_" + order + "[]']");
                    var colo_type = $("input[name='colo_type']:checked").val();
                    var check_addition = new Array();

                    //옵션체크
                    for(i=0; i < add_service_array.length; i++){
                        if( add_service_array[i].checked == true){
                            cnt_count++
                            check_addition = add_service_array[i].value.split("|");
                        }
                    }
                    //rack type
                    if(cnt_count > 0 && colo_type =='rack'){
                        url = "/quotation/colocation";
                        location.href= url;
                    }
                    //server type
                    else
                    {
                        //서버파킹형 옵션 선택시 패키지상품처리
                        var head_seqno = seqno.substr(0,1);
                        switch(check_addition[0])
                        {
                            case "BFW":
                                var seqno = head_seqno+"UP";
                                break;
                            case "CT":
                                var seqno = head_seqno+"UPC";
                                break;
                            case "FW_WI":
                                var seqno = head_seqno+"UPB";
                                break;
                        }
                        var idc = $("[name='idc["+order+"]']:checked").val();
                        //url = "https://idc.gabia.com/colo_reg1.php?page_name=colocation&page_gubun="+seqno+"&idc_kind="+idc;

                        var url  = "/order/colo_step1";
                        var form = document.colo_form;

                        form.goods_code.value = seqno;
                        form.idc_kind.value = idc;
                        form.action = url;
                        form.submit();
                    }
                    break;
            }
            //location.href= url;
        },
        //
        vod_change_option : function(order)
        {
            var cnt_count=0;
            var add_service_array = $("input:checkbox[name='addon_device_" + order + "[]']");
            for(i=0; i < add_service_array.length; i++){
                if( add_service_array[i].checked == true){
                    cnt_count++;
                }
            }

            if(cnt_count > 0 ){
                $("#other_option_"+order).show();
                $("#change_price_"+order+"_zone").hide();
                $("#vod_default_"+order).hide();
                $("#vod_option_"+order).show();

            }else{
                $("#other_option_"+order).hide();
                $("#change_price_"+order+"_zone").show();
                $("#vod_default_"+order).show();
                $("#vod_option_"+order).hide();
            }
        },
        //코로 패키지옵션추가
        colo_add_price : function(_this)
        {
            var tree = $(_this).parents(".rows");
            var addon_check = $(tree).find("input[name=addon_device]:checked");
            var count_list = $(tree).find("div[name=sel_month_price] > ul").length;
            var selectBox = $(tree).find("div[name=sel_month_price] ul");
            if(addon_check.length >1){
                $(selectBox).css("display", "none");
                $(selectBox).eq(count_list - 1).css("display", "block");
                $(selectBox).eq(count_list - 1).find("li:eq(0)").click();
            } else if(addon_check.length == 0 ){
                $(selectBox).css("display", "none");
                $(selectBox).eq(0).css("display", "block");
                $(selectBox).eq(0).find("li:eq(0)").click();
            } else {
                var index = $(addon_check).eq(0).val();
                $(selectBox).css("display", "none");
                $(selectBox).eq(index).css("display", "block");
                $(selectBox).eq(index).find("li:eq(0)").click();
            }

            //랙형 옵션추가시 이미지 변경
            if(addon_check.length >0){
                $(tree).find("input.request_btn").attr("src","/assets/images/idc/btn_counsel.gif");
            }else{
                $(tree).find("input.request_btn").attr("src","/assets/common/images/btn_request.gif");
            }
        },
        //코로 패키지옵션추가
        addition_price : function(_this)
        {
            var tree = $(_this).parents(".productBox");
            var addon_check = $(tree).find("input[name=addon_device]:checked");
            var count_list = $(tree).find("div[name=sel_month_price] > ul").length;
            var selectBox = $(tree).find("div[name=sel_month_price] ul");
            if(addon_check.length >1){
                $(selectBox).css("display", "none");
                $(selectBox).eq(count_list - 1).css("display", "block");
                $(selectBox).eq(count_list - 1).find("li:eq(0)").click();
            } else if(addon_check.length == 0 ){
                $(selectBox).css("display", "none");
                $(selectBox).eq(0).css("display", "block");
                $(selectBox).eq(0).find("li:eq(0)").click();
            } else {
                var index = $(addon_check).eq(0).val();
                $(selectBox).css("display", "none");
                $(selectBox).eq(index).css("display", "block");
                $(selectBox).eq(index).find("li:eq(0)").click();
            }

            //랙형 옵션추가시 이미지 변경
            if(addon_check.length >0){
                $(tree).find("input.request_btn").attr("src","/assets/images/idc/btn_counsel.gif");
            }else{
                $(tree).find("input.request_btn").attr("src","/assets/common/images/btn_request.gif");
            }
        },
        col_parking_check : function(_this) {
            var tree = $(_this).parents(".rows");
            var addon = $(tree).find("input[name=addon_device]");
            var addon_check = $(tree).find("input[name=addon_device]:checked");
            var selectIndex = $(_this).attr("data-index");
            var head_seqno  = $(tree).find("input[name=parking_type]").val();
            var idx = Math.floor(selectIndex) + 1;
            var sindex = 0;

            // 랙 옵션 선택에 따른 옵션 반환값 설정
            if(addon_check.length > 0){
                var selectValue = $(_this).val();
                $(tree).find("input[name=goods_code]").val(head_seqno + selectValue);
            } else {
                $(tree).find("input[name=goods_code]").val(head_seqno + "UN");
                idx = 0;
            }

            // 체크박스 단일로 제한
            $(addon).each(function(){
                if(selectIndex != sindex) $(this).eq(0).attr("checked", false);
                sindex++;
            });

            var select_price = $(tree).find("div.select_price_list ul");
            $(select_price).css("display", "none");
            $(select_price).eq(idx).css("display", "block");
            $(select_price).eq(idx).find("li:eq(0)").click();
        },
        //
        change_colo_type : function(type)
        {
            var loc = $("#loc").val();
            if(loc == "price"){
                $('#goods_display_spec_rack').hide();
                $('#goods_display_spec_server').hide();
                $('#goods_display_help').hide();
                if(type == "rack") {
                    $('#goods_display_rack').show();
                    $('#goods_display_server').hide();
                } else {
                    $('#goods_display_rack').hide();
                    $('#goods_display_server').show();
                }
            }
            else if(loc == "hardware") {
                $('#goods_display_rack').hide();
                $('#goods_display_server').hide();
                $('#goods_display_help').hide();
                if(type == "rack") {
                    $('#goods_display_spec_rack').show();
                    $('#goods_display_spec_server').hide();
                }else {
                    $('#goods_display_spec_rack').hide();
                    $('#goods_display_spec_server').show();
                }
            } else {
                $('#goods_display_rack').hide();
                $('#goods_display_server').hide();
                $('#goods_display_spec_rack').hide();
                $('#goods_display_spec_server').hide();
                $('#goods_display_help').show();
            }

        },
        addition_change_goods : function(index, _this)
        {
            var content = $(_this).attr("data-content");
            var output_money = $(_this).attr("data-output");
            var logo_image= $(_this).attr("data-image");

            var tree = $(_this).parents("div[name=change_output_select]");
            var top = $(_this).parents(".rows");

            var tree_context = $(tree).find("p[name=selectName]");
            var tree_return = $(tree).find("input[name=goods_id]");


            var tree_money = $(top).find("dd[name=output_money]");
            $(tree_money).html(output_money);
            $(tree_context).html(content);

            var select_spec = $(top).find("li.spec_list dl");
            $(select_spec).css("display", "none");
            $(select_spec).eq(index).css("display", "block");

            var select_price = $(_this).parents(".rows").find("div.select_price_list ul");
            $(select_price).css("display", "none");
            $(select_price).eq(index).css("display", "block");
            $(select_price).eq(index).find("li:eq(0)").click();

            if(typeof logo_image != "undefined") {
                var select_image = $(top).find("div.logoBox01 img");
                $(select_image).attr("src", logo_image);
            }
        },
        server_goods_addition_action : function(tab)
        {
            var sub_tab = $("input[name='license_type']:checked").val();
            $(".addition_display").hide();
            $("#select_table").hide();
            switch(tab){
                case "software":
                    $("#select_table").show();
                    $("#software").show();
                    if(sub_tab == "license_rent"){
                        $("#software").find("#rental").show();
                        $("#software").find("#sell").hide();
                        $("#software").find("#sw_sell").hide();
                    } else if (sub_tab == "license_sell"){
                        $("#software").find("#rental").hide();
                        $("#software").find("#sell").show();
                        $("#software").find("#sw_sell").hide();
                    } else if (sub_tab == "software_sell"){
                        $("#software").find("#rental").hide();
                        $("#software").find("#ell").hide();
                        $("#software").find("#sw_sell").show();
                    }
                    break;
                case "backup":
                    $("#backup").show();
                    break;
                case "monitoring":
                    $("#monitoring").show();
                    break;
                case "ha":
                    $("#ha").show();
                    break;
                case "loadbalancing":
                    $("#loadbalancing").show();
                    break;
                case "imagecaching":
                    $("#imagecaching").show();
                    break;
                case "freeservice":
                    $("#freeservice").show();
                    break;
            }

        },
        focus_border: function(init, group){
            $("#" + init).addClass('onBorder');
            $('#' + group + ' div.rows').mouseenter(function() {
                $('#' + group + ' div.rows').removeClass('onBorder');
                $(this).addClass('onBorder');
            });
        },
        //
        change_license_type : function(type, kind)
        {
            var sub_tab = $("input[name='license_type']:checked").val();
            if(sub_tab == "license_rent"){
                $("#software").find("#rental").show();
                $("#software").find("#sell").hide();
                $("#software").find("#sw_sell").hide();
            } else if (sub_tab == "license_sell"){
                $("#software").find("#rental").hide();
                $("#software").find("#sell").show();
                $("#software").find("#sw_sell").hide();
            } else if (sub_tab == "software_sell"){
                $("#software").find("#rental").hide();
                $("#software").find("#sell").hide();
                $("#software").find("#sw_sell").show();
            }
        },
        //
        idc_map : function(idc)
        {
            $(".mapRoad").hide();
            $("#road" + idc).show();
        },
        idc_print : function(idc)
        {
            var url="/server/idc_center_print/"+idc;
            this.openPopup(url,'idc_center','668','710','no');
        },
        refresh_captcha :  function()
        {
            var url="/quotation/captcha_reload";
            var post_data = "";

            $.ajax({
                type: "POST",
                url : url,
                data: post_data,
                dataType: "json",
                cache: false,
                async: false,
                beforeSend: function() {
                    $('#captcha_reload').prop('disabled', true);
                }
            }).done(function(json_data) {
                $("#captcha_img").html("<img src='"+json_data.filename+"'>");
            }).fail(function(jqXHR, textStatus, errorThrown) {
                alert(textStatus);
            }).always(function() {
                $('#captcha_reload').prop('disabled', false);
            });
        },
        redirect_tab : function(id){
            $("#tab a[name=" + id + "]").click();
        }
    }
